<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vanilla JS ìƒíƒœ ê´€ë¦¬</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        text-align: center;
      }
      h1 {
        font-size: 3rem;
      }
      button {
        font-size: 1.5rem;
        margin: 10px;
        padding: 10px 20px;
      }
    </style>
  </head>
  <body>
    <h1 id="counter">0</h1>
    <button id="increment">+</button>
    <button id="decrement">-</button>

    <script>
      // ğŸŸ¢ ìƒíƒœ ê´€ë¦¬ ê°ì²´
      //   const state = {
      //     count: 0,
      //   };

      //   // ğŸŸ¡ ìƒíƒœ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
      //   function setState(newState) {
      //     Object.assign(state, newState); // ê¸°ì¡´ ìƒíƒœë¥¼ ìƒˆë¡œìš´ ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸
      //     render(); // UI ì—…ë°ì´íŠ¸
      //   }

      //   // ğŸ”µ UI ì—…ë°ì´íŠ¸ í•¨ìˆ˜
      //   function render() {
      //     document.getElementById("counter").innerText = state.count;
      //   }

      //   // ğŸŸ  ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
      //   document.getElementById("increment").addEventListener("click", () => {
      //     setState({ count: state.count + 1 });
      //   });

      //   document.getElementById("decrement").addEventListener("click", () => {
      //     setState({ count: state.count - 1 });
      //   });

      //   render(); // ì´ˆê¸° ë Œë”ë§

      class State {
        constructor() {
          this.state = {
            count: 0,
          };
          this.counterElement = document.getElementById("counter");
          this.incrementElement = document.getElementById("increment");
          this.decrementElement = document.getElementById("decrement");

          this.incrementElement.addEventListener(
            "click",
            this.increment.bind(this)
          );
          this.decrementElement.addEventListener(
            "click",
            this.decrement.bind(this)
          );
        }

        setState(newState) {
          this.state = { ...this.state, ...newState };
          this.render();
        }
        increment() {
          this.setState({ count: this.state.count + 1 });
        }
        decrement() {
          this.setState({ count: this.state.count - 1 });
        }

        render() {
          document.getElementById("counter").innerText = this.state.count;
        }
      }
      new State();
    </script>
  </body>
</html>
